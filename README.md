# recon
# 统一对账

## 数据源

1. 实时数据
    1. mq
        1. String类型解析
    2. 数据库binlog
        1. 数据库binlog抓取
        2. canal [alibaba/canal](https://github.com/alibaba/canal)
2. 离线数据
    1. 文件，jss
    2. 文件，sftp

## 数据解析器

1. 过滤规则
2. 解析规则
3. 存入仓库

## 数据仓库

1. mysql
2. es

## 数据仓库数据结构自动生成

1. 必填字段，根据对账类型自动生成

## 数据抽取

## 数据核对

1. 固定核对字段
2. 扩展核对字段

## 对账结果

1. 对账汇总
2. 差错汇总
3. 历史差错汇总

## 定时任务

1. 定时任务开始
2. 定时任务结束
3. 定时任务暂停
4. 定时任务从固定节点开始
5. 节点可重试或者不可重试

## 对账流程

1. 对账时间监控

## 对账报警

1. 定时任务报警
2. 执行时长报警
3. 差错报警

## 权限管理

## 比对字段

## 运行环境

决定是在哪个服务器进行执行
